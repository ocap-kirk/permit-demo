import anyTest from 'ava';
import { printBreak, provideTestExecutionContext } from '../fixtures';
const test = anyTest;
test.before(provideTestExecutionContext);
const viewerRoleKey = 'viewer';
const commenterRoleKey = 'commenter';
const editorRoleKey = 'editor';
const adminRoleKey = 'admin';
const memberRoleKey = 'member';
const watcherRoleKey = 'watcher';
const account = {
    key: 'account',
    name: 'Account',
    urn: 'prn:gdrive:account',
    description: 'google drive account',
    actions: {
        create: {},
        invite_user: {},
        delete: {},
        view_members: {},
        create_folder: {},
        create_document: {},
    },
    roles: {
        admin: {
            name: 'Admin',
            permissions: ['create', 'invite_user', 'delete', 'create_folder', 'create_document'],
        },
        member: {
            name: 'Member',
            permissions: ['view_members', 'create_folder', 'create_document'],
        },
    },
};
const folder = {
    key: 'folder',
    name: 'Folder',
    urn: 'prn:gdrive:folder',
    description: 'google drive folder',
    actions: {
        read: {},
        rename: {},
        delete: {},
        create_document: {},
    },
    relations: {
        account: account.key,
    },
};
const document = {
    key: 'document',
    name: 'Document',
    urn: 'prn:gdrive:document',
    description: 'google drive document',
    actions: {
        read: {},
        update: {},
        delete: {},
        comment: {},
    },
};
const resourcesToCreate = [account, folder, document];
const permitUser = {
    key: 'user_permit',
    email: 'user@permit.io',
    first_name: 'Permit',
    last_name: 'User',
    attributes: {
        age: 35,
    },
};
const authzUser = {
    key: 'user_authz',
    email: 'member@auth0.com',
    first_name: 'Member',
    last_name: 'User',
    attributes: {
        age: 27,
    },
};
const usersToCreate = [permitUser, authzUser];
const folderViewer = {
    resourceKey: folder.key,
    roleData: {
        key: viewerRoleKey,
        name: 'Folder Viewer',
        permissions: ['read'],
    },
};
const folderCommenter = {
    resourceKey: folder.key,
    roleData: {
        key: commenterRoleKey,
        name: 'Folder Commenter',
        permissions: ['read', 'rename'],
        granted_to: {
            users_with_role: [
                {
                    role: memberRoleKey,
                    on_resource: account.key,
                    linked_by_relation: 'account',
                    when: {
                        no_direct_roles_on_object: true,
                    },
                },
            ],
        },
    },
};
const folderEditor = {
    resourceKey: folder.key,
    roleData: {
        key: editorRoleKey,
        name: 'Folder Editor',
        permissions: ['read', 'rename', 'delete', 'create_document'],
        // tests creation of role derivation as part of the resource role
        // (account admin is editor on folder)
        granted_to: {
            users_with_role: [
                {
                    role: adminRoleKey,
                    on_resource: account.key,
                    linked_by_relation: 'account',
                },
            ],
            when: {
                no_direct_roles_on_object: true,
            },
        },
    },
};
const documentViewer = {
    resourceKey: document.key,
    roleData: {
        key: viewerRoleKey,
        name: 'Document Viewer',
        permissions: ['read'],
    },
};
const documentCommenter = {
    resourceKey: document.key,
    roleData: {
        key: commenterRoleKey,
        name: 'Document Commenter',
        permissions: ['read', 'comment'],
    },
};
const documentEditor = {
    resourceKey: document.key,
    roleData: {
        key: editorRoleKey,
        name: 'Document Editor',
        permissions: ['read', 'comment', 'update', 'delete'],
    },
};
const allResourceRolesToCreate = [
    folderViewer,
    folderCommenter,
    folderEditor,
    documentViewer,
    documentCommenter,
    documentEditor,
];
const permitTenant = {
    key: 'permit',
    name: 'Permit',
};
const cocacolaTenant = {
    key: 'cocacola',
    name: 'Coca Cola',
};
const tenantsToCreate = [permitTenant, cocacolaTenant];
test('Permission check e2e test', async (t) => {
    const permit = t.context.permit;
    const logger = t.context.logger;
    try {
        logger.info('initial setup of objects');
        // create resources
        for (const resource of resourcesToCreate) {
            const createdResource = await permit.api.resources.create(resource);
            t.not(createdResource, undefined);
            t.not(createdResource, null);
            t.is(createdResource.key, resource.key);
            t.is(createdResource.name, resource.name);
            t.is(createdResource.urn, resource.urn);
            t.is(createdResource.description, resource.description);
        }
        // create admin and member users
        for (const user of usersToCreate) {
            const createdUser = await permit.api.users.create(user);
            t.not(createdUser, undefined);
            t.not(createdUser, null);
            t.is(createdUser.key, user.key);
            t.is(createdUser.email, user.email);
            t.is(createdUser.first_name, user.first_name);
            t.is(createdUser.last_name, user.last_name);
        }
        // create folder roles
        for (const resourceRole of allResourceRolesToCreate) {
            const createdResourceRole = await permit.api.resourceRoles.create(resourceRole.resourceKey, resourceRole.roleData);
            t.not(createdResourceRole, undefined);
            t.not(createdResourceRole, null);
            t.is(createdResourceRole.key, resourceRole.roleData.key);
            t.is(createdResourceRole.name, resourceRole.roleData.name);
        }
        // create relation between document and folder (parent)
        const documentFolderRelation = await permit.api.resourceRelations.create(document.key, {
            key: 'parent',
            name: 'Document Folder Relation',
            subject_resource: folder.key,
        });
        t.not(documentFolderRelation, undefined);
        t.not(documentFolderRelation, null);
        t.is(documentFolderRelation.key, 'parent');
        // create role derivation folder -> document
        const folderDocumentRoleDerivation = [viewerRoleKey, commenterRoleKey, editorRoleKey].map((role) => permit.api.resourceRoles.createRoleDerivation(document.key, role, {
            role: role,
            on_resource: folder.key,
            linked_by_relation: 'parent',
        }));
        await Promise.all(folderDocumentRoleDerivation);
        // create permit and cocacola tenants
        for (const tenant of tenantsToCreate) {
            const createdTenant = await permit.api.tenants.create(tenant);
            t.not(createdTenant, undefined);
            t.not(createdTenant, null);
            t.is(createdTenant.key, tenant.key);
            t.is(createdTenant.name, tenant.name);
        }
        const relationships = [
            // finance folder contains 2 documents
            [`${folder.key}:finance`, 'parent', `${document.key}:budget23`, permitTenant.key],
            // TODO: add missing relationships commented out below because of 409 conflict
            [`${folder.key}:finance`, 'parent', `${document.key}:june-expenses`, permitTenant.key],
            // rnd folder contains 2 documents
            [`${folder.key}:rnd`, 'parent', `${document.key}:architecture`, permitTenant.key],
            [`${folder.key}:rnd`, 'parent', `${document.key}:opal`, permitTenant.key],
            // folders belongs in permit g-drive account
            [`${account.key}:permitio`, 'account', `${folder.key}:finance`, permitTenant.key],
            [`${account.key}:permitio`, 'account', `${folder.key}:rnd`, permitTenant.key],
            // another account->folder->doc belongs to another tenant
            [`${folder.key}:recipes`, 'parent', `${document.key}:secret-recipe`, cocacolaTenant.key],
            [`${account.key}:cocacola`, 'account', `${folder.key}:recipes`, cocacolaTenant.key],
        ];
        for (const relationship of relationships) {
            const relTuple = await permit.api.relationshipTuples.create({
                subject: relationship[0],
                relation: relationship[1],
                object: relationship[2],
                tenant: relationship[3],
            });
            t.not(relTuple, undefined);
            t.not(relTuple, null);
            t.is(relTuple.subject, relationship[0]);
            t.is(relTuple.relation, relationship[1]);
            t.is(relTuple.object, relationship[2]);
            // t.is(relTuple.tenant_id, relationship[3]); returns id instead of key
        }
        const assignmentsAndAssertions = [
            {
                // direct access
                assignments: [
                    {
                        user: permitUser.key,
                        role: viewerRoleKey,
                        resource_instance: `${document.key}:architecture`,
                        tenant: permitTenant.key,
                    },
                ],
                assertions: [
                    {
                        user: permitUser.key,
                        action: 'read',
                        resource_instance: {
                            type: document.key,
                            key: 'architecture',
                            tenant: permitTenant.key,
                        },
                        result: true,
                    },
                    {
                        user: permitUser.key,
                        action: 'comment',
                        resource_instance: {
                            type: document.key,
                            key: 'architecture',
                            tenant: permitTenant.key,
                        },
                        result: false,
                    },
                    {
                        user: permitUser.key,
                        action: 'comment',
                        resource_instance: {
                            type: document.key,
                            key: 'opal',
                            tenant: permitTenant.key,
                        },
                        result: false,
                    },
                ],
            },
            // access from higher level
            {
                assignments: [
                    {
                        user: permitUser.key,
                        role: commenterRoleKey,
                        resource_instance: `${folder.key}:rnd`,
                        tenant: permitTenant.key,
                    },
                ],
                assertions: [
                    // direct access allowed
                    {
                        user: permitUser.key,
                        action: 'read',
                        resource_instance: {
                            type: folder.key,
                            key: 'rnd',
                            tenant: permitTenant.key,
                        },
                        result: true,
                    },
                    // access to child resources allowed
                    ...[
                        { action: 'read', resource: 'architecture' },
                        { action: 'comment', resource: 'architecture' },
                        { action: 'read', resource: 'opal' },
                        { action: 'comment', resource: 'opal' },
                    ].map((settings) => ({
                        user: permitUser.key,
                        action: settings.action,
                        resource_instance: {
                            type: document.key,
                            key: settings.resource,
                            tenant: permitTenant.key,
                        },
                        result: true,
                    })),
                    // higher permissions not allowed
                    {
                        user: permitUser.key,
                        action: 'update',
                        resource_instance: {
                            type: document.key,
                            key: 'architecture',
                            tenant: permitTenant.key,
                        },
                        result: false,
                    },
                    // access to other resources not allowed
                    {
                        user: permitUser.key,
                        action: 'read',
                        resource_instance: {
                            type: folder.key,
                            key: 'budget23',
                            tenant: permitTenant.key,
                        },
                        result: false,
                    },
                ],
            },
            // access from highest level (account)
            {
                assignments: [
                    {
                        user: permitUser.key,
                        role: adminRoleKey,
                        resource_instance: `${account.key}:permitio`,
                        tenant: permitTenant.key,
                    },
                    {
                        user: authzUser.key,
                        role: memberRoleKey,
                        resource_instance: `${account.key}:cocacola`,
                        tenant: cocacolaTenant.key,
                    },
                ],
                assertions: [
                    // direct access allowed
                    {
                        user: permitUser.key,
                        action: 'invite_user',
                        resource_instance: {
                            type: account.key,
                            key: 'permitio',
                            tenant: permitTenant.key,
                        },
                        result: true,
                    },
                    // access to child resources allowed
                    ...['read', 'comment', 'update', 'delete'].map((action) => ({
                        user: permitUser.key,
                        action,
                        resource_instance: {
                            type: document.key,
                            key: 'architecture',
                            tenant: permitTenant.key,
                        },
                        result: true,
                    })),
                    // access to other tenants not allowed
                    {
                        user: permitUser.key,
                        action: 'read',
                        resource_instance: {
                            type: document.key,
                            key: 'secret-recipe',
                            tenant: cocacolaTenant.key,
                        },
                        result: false,
                    },
                    // but access is allowed to user with lower permissions in the right tenant
                    {
                        user: authzUser.key,
                        action: 'read',
                        resource_instance: {
                            type: document.key,
                            key: 'secret-recipe',
                            tenant: cocacolaTenant.key,
                        },
                        result: true,
                    },
                ],
            },
            // permissions from higher level blocked by condition on role derivation
            {
                assignments: [
                    {
                        user: permitUser.key,
                        role: adminRoleKey,
                        resource_instance: `${account.key}:permitio`,
                        tenant: permitTenant.key,
                    },
                    {
                        user: permitUser.key,
                        role: viewerRoleKey,
                        resource_instance: `${folder.key}:rnd`,
                        tenant: permitTenant.key,
                    },
                ],
                assertions: [
                    // direct access allowed
                    {
                        user: permitUser.key,
                        action: 'read',
                        resource_instance: {
                            type: folder.key,
                            key: 'rnd',
                            tenant: permitTenant.key,
                        },
                        result: true,
                    },
                    // access given by derived role is not allowed
                    ...['rename', 'delete', 'create-document'].map((action) => ({
                        user: permitUser.key,
                        action,
                        resource_instance: {
                            type: folder.key,
                            key: 'rnd',
                            tenant: permitTenant.key,
                        },
                        result: false,
                    })),
                ],
            },
            // permissions from higher level blocked by condition on role derivation rule
            {
                assignments: [
                    {
                        user: permitUser.key,
                        role: memberRoleKey,
                        resource_instance: `${account.key}:permitio`,
                        tenant: permitTenant.key,
                    },
                    {
                        user: permitUser.key,
                        role: viewerRoleKey,
                        resource_instance: `${folder.key}:rnd`,
                        tenant: permitTenant.key,
                    },
                ],
                assertions: [
                    // direct access allowed
                    {
                        user: permitUser.key,
                        action: 'read',
                        resource_instance: {
                            type: folder.key,
                            key: 'rnd',
                            tenant: permitTenant.key,
                        },
                        result: true,
                    },
                    // access given by derived role is not allowed
                    {
                        user: permitUser.key,
                        action: 'rename',
                        resource_instance: {
                            type: folder.key,
                            key: 'rnd',
                            tenant: permitTenant.key,
                        },
                        result: false,
                    },
                ],
            },
        ];
        const assertPermitCheck = async (permit, assertion, assignment) => {
            const result = await permit.check(assertion.user, assertion.action, assertion.resource_instance);
            if (result !== assertion.result) {
                console.log('assertion failed');
                console.log('assertion', assertion);
                console.log('assignment', assignment);
                console.log('result', result);
            }
            t.is(result, assertion.result);
        };
        for (const testStep of assignmentsAndAssertions) {
            // role assignments
            for (const assignment of testStep.assignments) {
                const ra = await permit.api.roleAssignments.assign(assignment);
                t.is(ra.user, assignment.user);
                t.is(ra.role, assignment.role);
                t.is(ra.resource_instance, assignment.resource_instance);
                t.is(ra.tenant, assignment.tenant);
            }
            // sleep 10 second to allow for role assignments to propagate
            console.log('sleeping 10 seconds');
            await new Promise((resolve) => setTimeout(resolve, 10000));
            for (const assertion of testStep.assertions) {
                await assertPermitCheck(permit, assertion, testStep.assignments);
            }
            for (const assignment of testStep.assignments) {
                try {
                    await permit.api.roleAssignments.unassign(assignment);
                }
                catch (error) {
                    logger.error(`failed to unassign ${assignment.user} ${assignment.role} ${assignment.resource_instance} ${assignment.tenant}`);
                }
            }
        }
        printBreak();
    }
    catch (error) {
        logger.error(`GOT ERROR: ${error}`);
        t.fail(`got error: ${error}`);
    }
    finally {
        // cleanup
        try {
            console.log('cleaning up');
            await permit.api.tenants.delete('cocacola');
            await permit.api.tenants.delete('permit');
            await permit.api.resources.delete('account');
            await permit.api.resources.delete('folder');
            await permit.api.resources.delete('document');
            await permit.api.users.delete('user_authz');
            await permit.api.users.delete('user_permit');
        }
        catch (error) {
            logger.error(`GOT ERROR: ${error}`);
            t.fail(`got error: ${error}`);
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmViYWMuZTJlLnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvdGVzdHMvZTJlL3JlYmFjLmUyZS5zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sT0FBMEIsTUFBTSxLQUFLLENBQUM7QUFHN0MsT0FBTyxFQUFFLFVBQVUsRUFBRSwyQkFBMkIsRUFBZSxNQUFNLGFBQWEsQ0FBQztBQUVuRixNQUFNLElBQUksR0FBRyxPQUFxQyxDQUFDO0FBQ25ELElBQUksQ0FBQyxNQUFNLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUV6QyxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUM7QUFDL0IsTUFBTSxnQkFBZ0IsR0FBRyxXQUFXLENBQUM7QUFDckMsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDO0FBQy9CLE1BQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQztBQUM3QixNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUM7QUFDL0IsTUFBTSxjQUFjLEdBQUcsU0FBUyxDQUFDO0FBRWpDLE1BQU0sT0FBTyxHQUFHO0lBQ2QsR0FBRyxFQUFFLFNBQVM7SUFDZCxJQUFJLEVBQUUsU0FBUztJQUNmLEdBQUcsRUFBRSxvQkFBb0I7SUFDekIsV0FBVyxFQUFFLHNCQUFzQjtJQUNuQyxPQUFPLEVBQUU7UUFDUCxNQUFNLEVBQUUsRUFBRTtRQUNWLFdBQVcsRUFBRSxFQUFFO1FBQ2YsTUFBTSxFQUFFLEVBQUU7UUFDVixZQUFZLEVBQUUsRUFBRTtRQUNoQixhQUFhLEVBQUUsRUFBRTtRQUNqQixlQUFlLEVBQUUsRUFBRTtLQUNwQjtJQUNELEtBQUssRUFBRTtRQUNMLEtBQUssRUFBRTtZQUNMLElBQUksRUFBRSxPQUFPO1lBQ2IsV0FBVyxFQUFFLENBQUMsUUFBUSxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLGlCQUFpQixDQUFDO1NBQ3JGO1FBQ0QsTUFBTSxFQUFFO1lBQ04sSUFBSSxFQUFFLFFBQVE7WUFD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